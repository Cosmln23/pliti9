(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[522],{9812:function(e,s,a){Promise.resolve().then(a.bind(a,6333))},6333:function(e,s,a){"use strict";a.r(s);var t=a(3827),n=a(9102),r=a.n(n),l=a(4090);s.default=()=>{let[e,s]=(0,l.useState)([]),[a,n]=(0,l.useState)(!1),[f,i]=(0,l.useState)(!0),o=(0,l.useRef)(null);(0,l.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/chat/messages?streamId=plipli9-paranormal-live&limit=10&t=".concat(Date.now()));if(e.ok){let a=await e.json();a.messages&&(s(a.messages.slice(-5)),n(!0))}}catch(e){console.error("Error fetching messages:",e),n(!1)}};e();let a=setInterval(e,3e3);return()=>clearInterval(a)},[]),(0,l.useEffect)(()=>{var e;null===(e=o.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[e]);let d=e=>new Date(e).toLocaleTimeString("ro-RO",{hour:"2-digit",minute:"2-digit"});return f?(0,t.jsxs)("div",{className:"jsx-f4d2b14eae3ff47b fixed inset-0 pointer-events-none z-50",children:[(0,t.jsx)("div",{className:"jsx-f4d2b14eae3ff47b absolute top-4 right-4 pointer-events-auto",children:(0,t.jsxs)("div",{className:"jsx-f4d2b14eae3ff47b flex items-center space-x-2 bg-black/80 backdrop-blur-sm rounded-full px-3 py-2",children:[(0,t.jsx)("div",{className:"jsx-f4d2b14eae3ff47b "+"w-2 h-2 rounded-full ".concat(a?"bg-green-500 animate-pulse":"bg-red-500")}),(0,t.jsx)("span",{className:"jsx-f4d2b14eae3ff47b text-white text-xs",children:e.length}),(0,t.jsx)("button",{onClick:()=>i(!1),className:"jsx-f4d2b14eae3ff47b text-white/70 hover:text-white text-xs ml-2",children:"âœ•"})]})}),(0,t.jsx)("div",{className:"jsx-f4d2b14eae3ff47b absolute bottom-20 left-4 right-4 pointer-events-none",children:(0,t.jsx)("div",{className:"jsx-f4d2b14eae3ff47b max-h-80 overflow-hidden",children:e.length>0&&(0,t.jsxs)("div",{className:"jsx-f4d2b14eae3ff47b space-y-2",children:[e.map((e,s)=>(0,t.jsx)("div",{style:{animationDelay:"".concat(.1*s,"s"),animationDuration:"0.5s"},className:"jsx-f4d2b14eae3ff47b animate-slideInUp opacity-95",children:(0,t.jsxs)("div",{className:"jsx-f4d2b14eae3ff47b bg-black/70 backdrop-blur-sm rounded-2xl px-4 py-2 max-w-sm",children:[(0,t.jsxs)("div",{className:"jsx-f4d2b14eae3ff47b flex items-center space-x-2 mb-1",children:[(0,t.jsx)("div",{className:"jsx-f4d2b14eae3ff47b w-6 h-6 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:(0,t.jsx)("span",{className:"jsx-f4d2b14eae3ff47b text-white text-xs font-bold",children:e.username.slice(0,2).toUpperCase()})}),(0,t.jsxs)("span",{className:"jsx-f4d2b14eae3ff47b "+"text-sm font-bold ".concat("admin"===e.type?"text-yellow-400":"text-white"),children:[e.username,"admin"===e.type&&" \uD83D\uDC51"]}),(0,t.jsx)("span",{className:"jsx-f4d2b14eae3ff47b text-xs text-gray-300",children:d(e.timestamp)})]}),(0,t.jsx)("p",{className:"jsx-f4d2b14eae3ff47b text-white text-sm leading-relaxed break-words",children:e.message})]})},e.id)),(0,t.jsx)("div",{ref:o,className:"jsx-f4d2b14eae3ff47b"})]})})}),(0,t.jsx)("div",{className:"jsx-f4d2b14eae3ff47b absolute bottom-4 left-4 right-4 pointer-events-none",children:(0,t.jsxs)("div",{className:"jsx-f4d2b14eae3ff47b bg-black/60 backdrop-blur-sm rounded-full px-4 py-2 flex items-center justify-between text-white text-xs",children:[(0,t.jsxs)("div",{className:"jsx-f4d2b14eae3ff47b flex items-center space-x-4",children:[(0,t.jsxs)("div",{className:"jsx-f4d2b14eae3ff47b flex items-center space-x-1",children:[(0,t.jsx)("span",{className:"jsx-f4d2b14eae3ff47b",children:"\uD83D\uDCAC"}),(0,t.jsxs)("span",{className:"jsx-f4d2b14eae3ff47b",children:[e.length," mesaje"]})]}),(0,t.jsxs)("div",{className:"jsx-f4d2b14eae3ff47b flex items-center space-x-1",children:[(0,t.jsx)("div",{className:"jsx-f4d2b14eae3ff47b "+"w-2 h-2 rounded-full ".concat(a?"bg-green-500":"bg-red-500")}),(0,t.jsx)("span",{className:"jsx-f4d2b14eae3ff47b",children:a?"LIVE":"Offline"})]})]}),(0,t.jsx)("div",{className:"jsx-f4d2b14eae3ff47b text-purple-300",children:"PLIPLI9 \uD83D\uDC7B"})]})}),(0,t.jsx)(r(),{id:"f4d2b14eae3ff47b",children:"@-webkit-keyframes slideInUp{from{opacity:0;-webkit-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-webkit-transform:translatey(0);transform:translatey(0)}}@-moz-keyframes slideInUp{from{opacity:0;-moz-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-moz-transform:translatey(0);transform:translatey(0)}}@-o-keyframes slideInUp{from{opacity:0;-o-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-o-transform:translatey(0);transform:translatey(0)}}@keyframes slideInUp{from{opacity:0;-webkit-transform:translatey(20px);-moz-transform:translatey(20px);-o-transform:translatey(20px);transform:translatey(20px)}to{opacity:1;-webkit-transform:translatey(0);-moz-transform:translatey(0);-o-transform:translatey(0);transform:translatey(0)}}.animate-slideInUp.jsx-f4d2b14eae3ff47b{-webkit-animation:slideInUp.5s ease-out forwards;-moz-animation:slideInUp.5s ease-out forwards;-o-animation:slideInUp.5s ease-out forwards;animation:slideInUp.5s ease-out forwards}"})]}):(0,t.jsx)("div",{className:"fixed top-4 right-4 z-50",children:(0,t.jsx)("button",{onClick:()=>i(!0),className:"bg-purple-600 text-white p-3 rounded-full shadow-lg",children:"\uD83D\uDCAC"})})}}},function(e){e.O(0,[102,971,69,744],function(){return e(e.s=9812)}),_N_E=e.O()}]);