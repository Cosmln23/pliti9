(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{4581:function(e,t,a){Promise.resolve().then(a.bind(a,9242))},9242:function(e,t,a){"use strict";a.r(t);var r=a(3827),s=a(4090);t.default=()=>{let[e,t]=(0,s.useState)(""),[a,l]=(0,s.useState)(""),[n,c]=(0,s.useState)(""),[i,o]=(0,s.useState)(null),[d,u]=(0,s.useState)(!1),[x,h]=(0,s.useState)("");(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/api/twitch/configure");if(e.ok){let a=await e.json();o(a.status),a.status.configured&&(t(a.status.botUsername||""),c(a.status.channel||""))}}catch(e){console.error("Failed to fetch status:",e)}})()},[]);let p=async()=>{if(!e||!a||!n){alert("❌ Completează toate c\xe2mpurile!");return}u(!0);try{let t=await fetch("/api/twitch/configure",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({botUsername:e,oauth:a,channel:n})}),r=await t.json();r.success&&r.connected?(o(r.status),alert("✅ Bot-ul Twitch a fost configurat și conectat pe server!")):(alert("❌ Conectarea a eșuat. Verifică credențialele."),console.error("Configuration failed:",r))}catch(e){console.error("Setup error:",e),alert("❌ Eroare la configurare: "+e)}u(!1)},m=async()=>{if(x)try{let e=await fetch("/api/chat/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({streamId:"plipli9-paranormal-live",username:"TEST_USER",message:x,isStreamer:!1})}),t=await e.json();t.success&&t.twitchForwarded?(alert("✅ Mesaj trimis \xeen Twitch!"),h("")):alert("❌ Nu s-a putut trimite mesajul \xeen Twitch")}catch(e){alert("❌ Eroare la trimitere: "+e)}},b=async()=>{try{let e=await fetch("/api/twitch/configure");if(e.ok){let t=await e.json();o(t.status)}}catch(e){console.error("Failed to refresh status:",e)}};return(0,r.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900 to-black text-white",children:(0,r.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,r.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,r.jsxs)("div",{className:"text-center mb-8",children:[(0,r.jsxs)("h1",{className:"text-4xl font-bold mb-4",children:["\uD83C\uDFAE ",(0,r.jsx)("span",{className:"bg-gradient-to-r from-purple-400 to-pink-600 bg-clip-text text-transparent",children:"Twitch Bot Setup"})]}),(0,r.jsx)("p",{className:"text-gray-300",children:"Conectează chat-ul site-ului direct la Twitch IRC"})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 mb-6 border border-purple-500/20",children:[(0,r.jsxs)("h3",{className:"text-xl font-bold mb-4 flex items-center",children:["\uD83D\uDCCA Status Bot",(0,r.jsx)("div",{className:"ml-auto w-3 h-3 rounded-full ".concat((null==i?void 0:i.connected)?"bg-green-500 animate-pulse":"bg-red-500")})]}),(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Configurat:"}),(0,r.jsx)("span",{className:"ml-2 ".concat((null==i?void 0:i.configured)?"text-green-400":"text-red-400"),children:(null==i?void 0:i.configured)?"✅ Da":"❌ Nu"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Conectat:"}),(0,r.jsx)("span",{className:"ml-2 ".concat((null==i?void 0:i.connected)?"text-green-400":"text-red-400"),children:(null==i?void 0:i.connected)?"✅ Da":"❌ Nu"})]}),(null==i?void 0:i.channel)&&(0,r.jsxs)("div",{className:"col-span-2",children:[(0,r.jsx)("span",{className:"text-gray-400",children:"Channel:"}),(0,r.jsxs)("span",{className:"ml-2 text-purple-300",children:["#",i.channel]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 mb-6 border border-purple-500/10",children:[(0,r.jsx)("h3",{className:"text-lg font-bold mb-3 text-yellow-400",children:"⚠️ \xcenainte să continui:"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,r.jsxs)("p",{children:["1. ",(0,r.jsx)("strong",{children:"Creează aplicația"}),": ",(0,r.jsx)("a",{href:"https://dev.twitch.tv/console/apps",target:"_blank",className:"text-blue-400 underline",children:"dev.twitch.tv/console/apps"})]}),(0,r.jsxs)("p",{children:["2. ",(0,r.jsx)("strong",{children:"Generează token"}),": ",(0,r.jsx)("a",{href:"https://twitchtokengenerator.com/",target:"_blank",className:"text-blue-400 underline",children:"twitchtokengenerator.com"})]}),(0,r.jsxs)("p",{children:["3. ",(0,r.jsx)("strong",{children:'Alege "Bot Chat Token"'})," și copiază token-ul"]})]})]}),(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 mb-6 border border-purple-500/20",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4",children:"\uD83D\uDD27 Configurare Bot"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Bot Username"}),(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),placeholder:"ex: plipli9_bot",className:"w-full bg-white/5 border border-purple-500/30 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:border-purple-500 focus:outline-none"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"OAuth Token"}),(0,r.jsx)("input",{type:"password",value:a,onChange:e=>l(e.target.value),placeholder:"oauth:xxxxxxxxxxxxxxxxxxxxx",className:"w-full bg-white/5 border border-purple-500/30 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:border-purple-500 focus:outline-none"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Twitch Channel"}),(0,r.jsx)("input",{type:"text",value:n,onChange:e=>c(e.target.value),placeholder:"ex: plipli9",className:"w-full bg-white/5 border border-purple-500/30 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:border-purple-500 focus:outline-none"})]}),(0,r.jsx)("button",{onClick:p,disabled:d,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 px-6 py-3 rounded-lg font-medium transition-all disabled:opacity-50",children:d?"\uD83D\uDD04 Conectez...":"✅ Configurează și Conectează"})]})]}),(null==i?void 0:i.connected)&&(0,r.jsxs)("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 mb-6 border border-green-500/20",children:[(0,r.jsx)("h3",{className:"text-xl font-bold mb-4 text-green-400",children:"\uD83E\uDDEA Test Mesaj"}),(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)("input",{type:"text",value:x,onChange:e=>h(e.target.value),placeholder:"Scrie un mesaj de test...",className:"flex-1 bg-white/5 border border-green-500/30 rounded-lg px-4 py-2 text-white placeholder-gray-400 focus:border-green-500 focus:outline-none",onKeyPress:e=>"Enter"===e.key&&m()}),(0,r.jsx)("button",{onClick:m,className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded-lg transition-colors",children:"\uD83D\uDCE4 Trimite"})]}),(0,r.jsx)("p",{className:"text-sm text-green-300 mt-2",children:"Mesajul va apărea \xeen chatul Twitch ca: [SITE] TEST_USER: mesajul tău"})]}),(null==i?void 0:i.connected)&&(0,r.jsx)("div",{className:"flex justify-center",children:(0,r.jsx)("button",{onClick:b,className:"bg-red-600 hover:bg-red-700 px-6 py-2 rounded-lg transition-colors",children:"\uD83D\uDD0C Deconectează Bot"})}),(0,r.jsxs)("div",{className:"bg-white/5 backdrop-blur-md rounded-2xl p-6 border border-purple-500/10 mt-6",children:[(0,r.jsx)("h3",{className:"text-lg font-bold mb-3",children:"\uD83C\uDFAF Cum funcționează:"}),(0,r.jsxs)("div",{className:"space-y-2 text-sm text-gray-300",children:[(0,r.jsxs)("p",{children:["1. Spectatorii scriu pe ",(0,r.jsx)("strong",{children:"plipli9.com/chat"})]}),(0,r.jsxs)("p",{children:["2. Mesajele apar ",(0,r.jsx)("strong",{children:"automat \xeen Twitch chat"})]}),(0,r.jsxs)("p",{children:["3. Tu vezi mesajele \xeen ",(0,r.jsx)("strong",{children:"aplicația Twitch"})," pe telefon"]}),(0,r.jsxs)("p",{children:["4. ",(0,r.jsx)("strong",{children:"Nu mai trebuie overlay!"})," Chat direct \xeen Twitch!"]})]})]})]})})})}}},function(e){e.O(0,[971,69,744],function(){return e(e.s=4581)}),_N_E=e.O()}]);