(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[296],{3879:function(e,t,s){Promise.resolve().then(s.bind(s,1771))},1771:function(e,t,s){"use strict";s.r(t);var r=s(3827),a=s(4090),i=s(7841),l=s(7366),n=s(6490),c=s(9369),o=s(4207);t.default=()=>{let[e,t]=(0,a.useState)({isLive:!1,viewerCount:0,streamId:"",duration:"00:00:00",chatMessages:0}),[s,d]=(0,a.useState)(""),[m,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/live-sessions/current"),s=await e.json();s.success&&s.session&&(d(s.session.session_id),x(!0),t(e=>({...e,isLive:!0,streamId:s.session.session_id,viewerCount:s.session.viewer_count||0})))}catch(e){console.error("Error checking stream status:",e)}};e();let s=setInterval(e,1e4);return()=>clearInterval(s)},[]);let u=async()=>{try{console.log("\uD83C\uDFA5 Starting new stream...");let i=await fetch("/api/live-sessions/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"Studio PLIPLI9"})}),l=await i.json();if(console.log("\uD83D\uDCE6 Stream start response:",l),l.success&&l.streamId){var e,s,r,a;d(l.streamId),x(!0),t(e=>({...e,isLive:!0,streamId:l.streamId,viewerCount:0})),console.log("✅ Stream started successfully!"),console.log("\uD83D\uDD11 Stream Key:",null===(e=l.streaming)||void 0===e?void 0:e.stream_key),console.log("\uD83D\uDCE1 RTMP URL:",null===(s=l.streaming)||void 0===s?void 0:s.rtmp_url),alert("✅ Stream creat cu succes!\n\n\uD83D\uDD11 Stream Key: ".concat(null===(r=l.streaming)||void 0===r?void 0:r.stream_key,"\n\uD83D\uDCE1 RTMP: ").concat(null===(a=l.streaming)||void 0===a?void 0:a.rtmp_url))}else console.error("❌ Failed to start stream:",l),alert("❌ Nu s-a putut \xeencepe stream-ul. \xcencearcă din nou.")}catch(e){console.error("❌ Error starting stream:",e),alert("❌ Eroare de conexiune. Verifică internetul și \xeencearcă din nou.")}},h=async()=>{if(s)try{(await fetch("/api/live-sessions/end",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:s})})).ok&&(x(!1),d(""),t(e=>({...e,isLive:!1,streamId:"",viewerCount:0})))}catch(e){console.error("Error ending stream:",e)}};return(0,r.jsx)("div",{className:"min-h-screen bg-black pt-16",children:(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsx)("div",{className:"bg-paranormal-900 rounded-lg p-6 mb-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-2xl font-bold text-white mb-2",children:"\uD83C\uDFA5 PLIPLI9 Streamer Dashboard"}),(0,r.jsx)("p",{className:"text-paranormal-300",children:"Control panoul pentru transmisii live paranormale"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-medium ".concat(e.isLive?"bg-red-500 text-white animate-pulse":"bg-gray-600 text-gray-300"),children:e.isLive?"\uD83D\uDD34 LIVE":"⚫ OFFLINE"}),m?(0,r.jsx)("button",{onClick:h,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Oprește Live"}):(0,r.jsx)("button",{onClick:u,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"\xcencepe Live"})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,r.jsx)("div",{className:"bg-paranormal-900 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(i.Z,{className:"w-8 h-8 text-blue-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-paranormal-300",children:"Spectatori"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-white",children:e.viewerCount})]})]})}),(0,r.jsx)("div",{className:"bg-paranormal-900 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(l.Z,{className:"w-8 h-8 text-green-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-paranormal-300",children:"Mesaje Chat"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-white",children:e.chatMessages})]})]})}),(0,r.jsx)("div",{className:"bg-paranormal-900 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(n.Z,{className:"w-8 h-8 text-purple-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-paranormal-300",children:"Durată Live"}),(0,r.jsx)("p",{className:"text-2xl font-bold text-white",children:e.duration})]})]})}),(0,r.jsx)("div",{className:"bg-paranormal-900 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,r.jsx)(c.Z,{className:"w-8 h-8 text-red-400"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-sm text-paranormal-300",children:"Status Stream"}),(0,r.jsx)("p",{className:"text-sm font-bold text-white",children:e.isLive?"Activ":"Inactiv"})]})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-paranormal-900 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Informații Stream"}),m?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-paranormal-300 mb-1",children:"Stream ID"}),(0,r.jsx)("input",{type:"text",value:s,readOnly:!0,className:"w-full bg-black border border-gray-600 rounded px-3 py-2 text-white text-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-paranormal-300 mb-1",children:"RTMP URL"}),(0,r.jsx)("input",{type:"text",value:"rtmp://rtmp.livepeer.com/live/",readOnly:!0,className:"w-full bg-black border border-gray-600 rounded px-3 py-2 text-white text-sm"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm text-paranormal-300 mb-1",children:"Stream Key"}),(0,r.jsx)("input",{type:"text",value:s?"".concat(s.substring(0,4),"-").concat(s.substring(4,8),"-").concat(s.substring(8,12),"-").concat(s.substring(12,16)):"",readOnly:!0,className:"w-full bg-black border border-gray-600 rounded px-3 py-2 text-white text-sm"})]}),(0,r.jsxs)("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4",children:[(0,r.jsx)("h3",{className:"text-green-400 font-medium mb-2",children:"\uD83D\uDCF1 Setări Streamlabs Mobile:"}),(0,r.jsxs)("ul",{className:"text-sm text-green-300 space-y-1",children:[(0,r.jsx)("li",{children:"• URL: rtmp://rtmp.livepeer.com/live/"}),(0,r.jsxs)("li",{children:["• Stream Key: ",s?"".concat(s.substring(0,4),"-****-****-****"):"Se generează..."]}),(0,r.jsx)("li",{children:"• Rezoluție: 1280x720 (720p)"}),(0,r.jsx)("li",{children:"• Bitrate: 2500 kbps"})]})]})]}):(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsx)(c.Z,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),(0,r.jsx)("p",{className:"text-gray-400",children:"Nu există stream activ"}),(0,r.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:'Apasă "\xcencepe Live" pentru a genera credentialele de streaming'})]})]}),(0,r.jsxs)("div",{className:"bg-paranormal-900 rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white mb-4",children:"Acțiuni Rapide"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[(0,r.jsx)("button",{className:"bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-lg text-sm transition-colors",children:"\uD83D\uDCF1 Ghid Streamlabs"}),(0,r.jsx)("button",{className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg text-sm transition-colors",children:"\uD83D\uDCBB Ghid OBS"}),(0,r.jsx)("button",{className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg text-sm transition-colors",children:"\uD83D\uDD27 Test Audio/Video"}),(0,r.jsx)("button",{className:"bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded-lg text-sm transition-colors",children:"\uD83D\uDCCA Statistici Detaliate"}),(0,r.jsx)("button",{className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg text-sm transition-colors",children:"\uD83D\uDEA8 Moderare Chat"}),(0,r.jsx)("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-lg text-sm transition-colors",children:"⚙️ Setări Avansate"})]})]})]}),(0,r.jsx)("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-paranormal-900 rounded-lg p-4",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[(0,r.jsx)(l.Z,{className:"w-5 h-5 mr-2"}),"Chat Live - Vedere Streamer"]}),s?(0,r.jsx)(o.Z,{isStreamerView:!0,streamId:s,viewerCount:e.viewerCount}):(0,r.jsx)("div",{className:"h-80 flex items-center justify-center text-gray-500",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(l.Z,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),(0,r.jsx)("p",{children:"Chat-ul va fi disponibil c\xe2nd \xeencepi stream-ul"})]})})]})})]})]})})}},7461:function(e,t,s){"use strict";s.d(t,{Z:function(){return l}});var r=s(4090),a={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),l=(e,t)=>{let s=(0,r.forwardRef)((s,l)=>{let{color:n="currentColor",size:c=24,strokeWidth:o=2,absoluteStrokeWidth:d,className:m="",children:x,...u}=s;return(0,r.createElement)("svg",{ref:l,...a,width:c,height:c,stroke:n,strokeWidth:d?24*Number(o)/Number(c):o,className:["lucide","lucide-".concat(i(e)),m].join(" "),...u},[...t.map(e=>{let[t,s]=e;return(0,r.createElement)(t,s)}),...Array.isArray(x)?x:[x]])});return s.displayName="".concat(e),s}},6490:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},7841:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7366:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},9990:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},4059:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]])},9369:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,s(7461).Z)("Video",[["path",{d:"m22 8-6 4 6 4V8Z",key:"50v9me"}],["rect",{width:"14",height:"12",x:"2",y:"6",rx:"2",ry:"2",key:"1rqjg6"}]])}},function(e){e.O(0,[582,971,69,744],function(){return e(e.s=3879)}),_N_E=e.O()}]);