"use strict";(()=>{var e={};e.id=7058,e.ids=[7058],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},39620:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>g,originalPathname:()=>f,patchFetch:()=>b,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d,staticGenerationBailout:()=>w});var a={};r.r(a),r.d(a,{GET:()=>m,dynamic:()=>l});var i=r(95419),s=r(69108),n=r(99678),o=r(78070),u=r(55349);async function m(e){try{let{searchParams:t}=new URL(e.url),r=t.get("format")||"simple",a=(0,u._U)("plipli9-paranormal-live",5);if("nightbot"===r){let e=a.map(e=>`[${e.username}] ${e.message}`).join(" • ");return o.Z.json({success:!0,twitchCommand:`!website ${e}`,rawMessage:e,count:a.length})}let i=a.map(e=>({text:`[SITE] ${e.username}: ${e.message}`,timestamp:e.timestamp}));return o.Z.json({success:!0,messages:i,twitchReady:i.map(e=>e.text).join("\n"),count:a.length})}catch(e){return console.error("Twitch bridge error:",e),o.Z.json({error:"Failed to bridge to Twitch"},{status:500})}}let l="force-dynamic",p=new i.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/chat/twitch-bridge/route",pathname:"/api/chat/twitch-bridge",filename:"route",bundlePath:"app/api/chat/twitch-bridge/route"},resolvedPagePath:"C:\\Users\\user\\Desktop\\plipli paranormal\\app\\api\\chat\\twitch-bridge\\route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:h,headerHooks:g,staticGenerationBailout:w}=p,f="/api/chat/twitch-bridge/route";function b(){return(0,n.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}},55349:(e,t,r)=>{r.d(t,{Hz:()=>n,_U:()=>o});let a=[],i=1,s=[{id:"demo-1",streamId:"plipli9-paranormal-live",username:"PLIPLI9",message:"Bună seara tuturor! \uD83D\uDC7B",timestamp:new Date().toISOString(),type:"admin",likes:0}];function n(e){let t={...e,id:i.toString()};a.push(t),i++;let r=a.filter(t=>t.streamId===e.streamId);if(r.length>100){let t=r.length-100;for(let r=0;r<t;r++){let t=a.findIndex(t=>t.streamId===e.streamId);-1!==t&&a.splice(t,1)}}return t}function o(e,t=50){return a.filter(t=>t.streamId===e).slice(-t).sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime())}0===a.length&&a.push(...s)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),a=t.X(0,[1638,6206],()=>r(39620));module.exports=a})();