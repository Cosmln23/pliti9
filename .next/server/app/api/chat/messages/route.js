"use strict";(()=>{var e={};e.id=9402,e.ids=[9402],e.modules={30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},24975:(e,t,r)=>{r.r(t),r.d(t,{headerHooks:()=>h,originalPathname:()=>I,patchFetch:()=>v,requestAsyncStorage:()=>d,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>c,staticGenerationBailout:()=>f});var s={};r.r(s),r.d(s,{GET:()=>m,dynamic:()=>l});var a=r(95419),n=r(69108),i=r(99678),o=r(78070),u=r(55349);async function m(e){try{let{searchParams:t}=new URL(e.url),r=t.get("streamId"),s=parseInt(t.get("limit")||"50");if(!r)return o.Z.json({error:"streamId is required"},{status:400});let a=(0,u._U)(r,s);return o.Z.json({success:!0,messages:a,count:a.length})}catch(e){return console.error("Error fetching chat messages:",e),o.Z.json({error:"Failed to fetch messages"},{status:500})}}let l="force-dynamic",p=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/chat/messages/route",pathname:"/api/chat/messages",filename:"route",bundlePath:"app/api/chat/messages/route"},resolvedPagePath:"C:\\Users\\user\\Desktop\\plipli paranormal\\app\\api\\chat\\messages\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:d,staticGenerationAsyncStorage:c,serverHooks:g,headerHooks:h,staticGenerationBailout:f}=p,I="/api/chat/messages/route";function v(){return(0,i.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:c})}},55349:(e,t,r)=>{r.d(t,{Hz:()=>i,_U:()=>o});let s=[],a=1,n=[{id:"demo-1",streamId:"plipli9-paranormal-live",username:"PLIPLI9",message:"BunÄƒ seara tuturor! \uD83D\uDC7B",timestamp:new Date().toISOString(),type:"admin",likes:0}];function i(e){let t={...e,id:a.toString()};s.push(t),a++;let r=s.filter(t=>t.streamId===e.streamId);if(r.length>100){let t=r.length-100;for(let r=0;r<t;r++){let t=s.findIndex(t=>t.streamId===e.streamId);-1!==t&&s.splice(t,1)}}return t}function o(e,t=50){return s.filter(t=>t.streamId===e).slice(-t).sort((e,t)=>new Date(e.timestamp).getTime()-new Date(t.timestamp).getTime())}0===s.length&&s.push(...n)}};var t=require("../../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[1638,6206],()=>r(24975));module.exports=s})();