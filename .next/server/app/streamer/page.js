(()=>{var e={};e.id=9296,e.ids=[9296],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},3777:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>p,tree:()=>c});var r=t(50482),a=t(69108),i=t(62563),l=t.n(i),n=t(68300),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let c=["",{children:["streamer",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,39571)),"C:\\Users\\user\\Desktop\\plipli paranormal\\app\\streamer\\page.tsx"]}]},{metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(t.bind(t,45860)),"C:\\Users\\user\\Desktop\\plipli paranormal\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],d=["C:\\Users\\user\\Desktop\\plipli paranormal\\app\\streamer\\page.tsx"],m="/streamer/page",x={require:t,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/streamer/page",pathname:"/streamer",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},76555:(e,s,t)=>{Promise.resolve().then(t.bind(t,7114))},7114:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>d});var r=t(95344),a=t(3729),i=t(53148),l=t(35851),n=t(25545),o=t(88209),c=t(89842);let d=()=>{let[e,s]=(0,a.useState)({isLive:!1,viewerCount:0,streamId:"",duration:"00:00:00",chatMessages:0}),[t,d]=(0,a.useState)(""),[m,x]=(0,a.useState)(!1);(0,a.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/live-sessions/current"),t=await e.json();t.success&&t.session&&(d(t.session.session_id),x(!0),s(e=>({...e,isLive:!0,streamId:t.session.session_id,viewerCount:t.session.viewer_count||0})))}catch(e){console.error("Error checking stream status:",e)}};e();let t=setInterval(e,1e4);return()=>clearInterval(t)},[]);let p=async()=>{try{console.log("\uD83C\uDFA5 Starting new stream...");let e=await fetch("/api/live-sessions/start",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({location:"Studio PLIPLI9"})}),t=await e.json();console.log("\uD83D\uDCE6 Stream start response:",t),t.success&&t.streamId?(d(t.streamId),x(!0),s(e=>({...e,isLive:!0,streamId:t.streamId,viewerCount:0})),console.log("✅ Stream started successfully!"),console.log("\uD83D\uDD11 Stream Key:",t.streaming?.stream_key),console.log("\uD83D\uDCE1 RTMP URL:",t.streaming?.rtmp_url),alert(`✅ Stream creat cu succes!

🔑 Stream Key: ${t.streaming?.stream_key}
📡 RTMP: ${t.streaming?.rtmp_url}`)):(console.error("❌ Failed to start stream:",t),alert("❌ Nu s-a putut \xeencepe stream-ul. \xcencearcă din nou."))}catch(e){console.error("❌ Error starting stream:",e),alert("❌ Eroare de conexiune. Verifică internetul și \xeencearcă din nou.")}},u=async()=>{if(t)try{(await fetch("/api/live-sessions/end",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({sessionId:t})})).ok&&(x(!1),d(""),s(e=>({...e,isLive:!1,streamId:"",viewerCount:0})))}catch(e){console.error("Error ending stream:",e)}};return r.jsx("div",{className:"min-h-screen bg-black pt-16",children:(0,r.jsxs)("div",{className:"p-6",children:[r.jsx("div",{className:"bg-paranormal-900 rounded-lg p-6 mb-6",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-2xl font-bold text-white mb-2",children:"\uD83C\uDFA5 PLIPLI9 Streamer Dashboard"}),r.jsx("p",{className:"text-paranormal-300",children:"Control panoul pentru transmisii live paranormale"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${e.isLive?"bg-red-500 text-white animate-pulse":"bg-gray-600 text-gray-300"}`,children:e.isLive?"\uD83D\uDD34 LIVE":"⚫ OFFLINE"}),m?r.jsx("button",{onClick:u,className:"bg-gray-600 hover:bg-gray-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"Oprește Live"}):r.jsx("button",{onClick:p,className:"bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-lg font-medium transition-colors",children:"\xcencepe Live"})]})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[r.jsx("div",{className:"bg-paranormal-900 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(i.Z,{className:"w-8 h-8 text-blue-400"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-paranormal-300",children:"Spectatori"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.viewerCount})]})]})}),r.jsx("div",{className:"bg-paranormal-900 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(l.Z,{className:"w-8 h-8 text-green-400"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-paranormal-300",children:"Mesaje Chat"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.chatMessages})]})]})}),r.jsx("div",{className:"bg-paranormal-900 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(n.Z,{className:"w-8 h-8 text-purple-400"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-paranormal-300",children:"Durată Live"}),r.jsx("p",{className:"text-2xl font-bold text-white",children:e.duration})]})]})}),r.jsx("div",{className:"bg-paranormal-900 rounded-lg p-4",children:(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(o.Z,{className:"w-8 h-8 text-red-400"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm text-paranormal-300",children:"Status Stream"}),r.jsx("p",{className:"text-sm font-bold text-white",children:e.isLive?"Activ":"Inactiv"})]})]})})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)("div",{className:"bg-paranormal-900 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Informații Stream"}),m?(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-paranormal-300 mb-1",children:"Stream ID"}),r.jsx("input",{type:"text",value:t,readOnly:!0,className:"w-full bg-black border border-gray-600 rounded px-3 py-2 text-white text-sm"})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-paranormal-300 mb-1",children:"RTMP URL"}),r.jsx("input",{type:"text",value:"rtmp://rtmp.livepeer.com/live/",readOnly:!0,className:"w-full bg-black border border-gray-600 rounded px-3 py-2 text-white text-sm"})]})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-sm text-paranormal-300 mb-1",children:"Stream Key"}),r.jsx("input",{type:"text",value:t?`${t.substring(0,4)}-${t.substring(4,8)}-${t.substring(8,12)}-${t.substring(12,16)}`:"",readOnly:!0,className:"w-full bg-black border border-gray-600 rounded px-3 py-2 text-white text-sm"})]}),(0,r.jsxs)("div",{className:"bg-green-900/20 border border-green-500/30 rounded-lg p-4",children:[r.jsx("h3",{className:"text-green-400 font-medium mb-2",children:"\uD83D\uDCF1 Setări Streamlabs Mobile:"}),(0,r.jsxs)("ul",{className:"text-sm text-green-300 space-y-1",children:[r.jsx("li",{children:"• URL: rtmp://rtmp.livepeer.com/live/"}),(0,r.jsxs)("li",{children:["• Stream Key: ",t?`${t.substring(0,4)}-****-****-****`:"Se generează..."]}),r.jsx("li",{children:"• Rezoluție: 1280x720 (720p)"}),r.jsx("li",{children:"• Bitrate: 2500 kbps"})]})]})]}):(0,r.jsxs)("div",{className:"text-center py-8",children:[r.jsx(o.Z,{className:"w-16 h-16 text-gray-500 mx-auto mb-4"}),r.jsx("p",{className:"text-gray-400",children:"Nu există stream activ"}),r.jsx("p",{className:"text-sm text-gray-500 mt-2",children:'Apasă "\xcencepe Live" pentru a genera credentialele de streaming'})]})]}),(0,r.jsxs)("div",{className:"bg-paranormal-900 rounded-lg p-6",children:[r.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"Acțiuni Rapide"}),(0,r.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[r.jsx("button",{className:"bg-purple-600 hover:bg-purple-700 text-white py-2 px-4 rounded-lg text-sm transition-colors",children:"\uD83D\uDCF1 Ghid Streamlabs"}),r.jsx("button",{className:"bg-blue-600 hover:bg-blue-700 text-white py-2 px-4 rounded-lg text-sm transition-colors",children:"\uD83D\uDCBB Ghid OBS"}),r.jsx("button",{className:"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded-lg text-sm transition-colors",children:"\uD83D\uDD27 Test Audio/Video"}),r.jsx("button",{className:"bg-yellow-600 hover:bg-yellow-700 text-white py-2 px-4 rounded-lg text-sm transition-colors",children:"\uD83D\uDCCA Statistici Detaliate"}),r.jsx("button",{className:"bg-red-600 hover:bg-red-700 text-white py-2 px-4 rounded-lg text-sm transition-colors",children:"\uD83D\uDEA8 Moderare Chat"}),r.jsx("button",{className:"bg-gray-600 hover:bg-gray-700 text-white py-2 px-4 rounded-lg text-sm transition-colors",children:"⚙️ Setări Avansate"})]})]})]}),r.jsx("div",{className:"lg:col-span-1",children:(0,r.jsxs)("div",{className:"bg-paranormal-900 rounded-lg p-4",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-white mb-4 flex items-center",children:[r.jsx(l.Z,{className:"w-5 h-5 mr-2"}),"Chat Live - Vedere Streamer"]}),t?r.jsx(c.Z,{isStreamerView:!0,streamId:t,viewerCount:e.viewerCount}):r.jsx("div",{className:"h-80 flex items-center justify-center text-gray-500",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx(l.Z,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),r.jsx("p",{children:"Chat-ul va fi disponibil c\xe2nd \xeencepi stream-ul"})]})})]})})]})]})})}},39571:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>i,__esModule:()=>a,default:()=>l});let r=(0,t(86843).createProxy)(String.raw`C:\Users\user\Desktop\plipli paranormal\app\streamer\page.tsx`),{__esModule:a,$$typeof:i}=r,l=r.default}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[1638,8781,4004,9409],()=>t(3777));module.exports=r})();